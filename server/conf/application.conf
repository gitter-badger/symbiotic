# This is the main configuration file for the application.
# ~~~~~

play {
  # Secret key
  # ~~~~~
  # The secret key is used to secure cryptographics functions.
  #
  # This must be changed for production, but we recommend not changing it in this file.
  #
  # See http://www.playframework.com/documentation/latest/ApplicationSecret for more details.
  crypto.secret = "[^H3arkY0P@1yJ8p8w8fE11>D3hK>YoPR8Jgg@u6?KjxVYhRvONqHqrf:?ptZ81B"

  # The application languages
  # ~~~~~
  #i18n.langs = "en"

  http {
    context = "/symbiotic-server"

    parser.maxDiskBuffer = 2G

    filters = "core.security.filters.Filters"
  }

  modules {
    enabled = ${play.modules.enabled} ["repository.MongoDBModule", "core.security.authentication.SilhouetteModule"]
  }

  # Security Filter Configuration - Content Security Policy
  # ~~~~~
  #play.filters.headers.contentSecurityPolicy
  # default-src:
  #   'self'
  #
  # img-src:
  #   'self'
  #   fbcdn-profile-a.akamaihd.net (Facebook)
  #   *.twimg.com (Twitter)
  #   *.googleusercontent.com (Google)
  #   secure.gravatar.com
  #
  # style-src:
  #   'self'
  #   'unsafe-inline'
  #   cdnjs.cloudflare.com
  #   maxcdn.bootstrapcdn.com
  #   cdn.jsdelivr.net
  #   fonts.googleapis.com
  #   'unsafe-inline' (in-line css found in bootstrap.min.js)
  #
  # font-src:
  #   'self'
  #   fonts.gstatic.com
  #   fonts.googleapis.com
  #   cdnjs.cloudflare.com
  #
  # script-src:
  #   'self'
  #
  # connect-src:
  #   'self'
  #   twitter.com
  #
  filters.headers.contentSecurityPolicy = "default-src 'self'; img-src 'self' fbcdn-profile-a.akamaihd.net *.twimg.com *.googleusercontent.com secure.gravatar.com; style-src 'self' 'unsafe-inline' cdnjs.cloudflare.com maxcdn.bootstrapcdn.com cdn.jsdelivr.net fonts.googleapis.com; font-src 'self' fonts.gstatic.com fonts.googleapis.com cdnjs.cloudflare.com; script-src 'self'; connect-src 'self' twitter.com;"
  filters.cors {
    exposedHeaders = ["Access-Control-Allow-Origin", "Access-Control-Allow-Credentials"]
    cors {
      # By default, ALL origins are allowed.
//      allowedOrigins = ["http://dev.scalytica.net"],
//      supportsCredentials = true
//      allowedHttpMethods = ["GET", "POST"]
//      allowedHttpHeaders = ["Accept"]
//      preflightMaxAge = 3 days
    }
  }
}

include "symbiotic.conf"
include "silhouette.conf"